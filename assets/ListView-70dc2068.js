import{p as J,m as ae,k as xe,l as ke,q as Q,c as y,v as Z,h as t,x as W,y as H,M as Ve,I as le,E as ne,z as Ie,A as Pe,B as pe,C as Se,D as Fe,F as we,G as Be,H as $e,r as S,J as Te,K as Re,L as Le,w as Ee,N as Ae,O as De,P as Ne,Q as Me,R as Ue,S as R,T as G,U as Oe,W as qe,X as Ke,Y as je,Z as We,_ as ze,$ as Xe,a0 as Ye,a1 as Ge,n as ie,a2 as He,s as Je,d as p,e as Qe,f as q,V as Ze,a3 as se,i as o,a4 as $,a5 as ue,u as T,a6 as re,t as de,j}from"./index-13356dc1.js";import{u as et}from"./list-f4e5c918.js";import{V as ce,a as tt}from"./VRow-008e7e2f.js";import{V as lt,m as nt,u as ye,a as at,b as ot,c as fe,d as ve}from"./VInput-10a1985e.js";const it=J({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ae(),...xe({transition:{component:ke}})},"VCounter"),st=Q()({name:"VCounter",functional:!0,props:it(),setup(e,f){let{slots:i}=f;const I=y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Z(()=>t(Ve,{transition:e.transition},{default:()=>[W(t("div",{class:["v-counter",e.class],style:e.style},[i.default?i.default({counter:I.value,max:e.max,value:e.value}):I.value]),[[H,e.active]])]})),{}}});const ut=J({floating:Boolean,...ae()},"VFieldLabel"),Y=Q()({name:"VFieldLabel",props:ut(),setup(e,f){let{slots:i}=f;return Z(()=>t(lt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},i)),{}}}),rt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ge=J({appendInnerIcon:le,bgColor:String,clearable:Boolean,clearIcon:{type:le,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:le,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>rt.includes(e)},"onClick:clear":ne(),"onClick:appendInner":ne(),"onClick:prependInner":ne(),...ae(),...Ie(),...Pe(),...pe()},"VField"),_e=Q()({name:"VField",inheritAttrs:!1,props:{id:String,...nt(),...ge()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,f){let{attrs:i,emit:I,slots:l}=f;const{themeClasses:g}=Se(e),{loaderClasses:P}=Fe(e),{focusClasses:K,isFocused:E,focus:A,blur:F}=ye(e),{InputIcon:C}=at(e),{roundedClasses:D}=we(e),{rtlClasses:L}=Be(),b=y(()=>e.dirty||e.active),u=y(()=>!e.singleLine&&!!(e.label||l.label)),r=$e(),s=y(()=>e.id||`input-${r}`),n=y(()=>`${s.value}-messages`),w=S(),d=S(),z=S(),a=y(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:_,backgroundColorStyles:h}=Te(Re(e,"bgColor")),{textColorClasses:x,textColorStyles:ee}=Le(y(()=>e.error||e.disabled?void 0:b.value&&E.value?e.color:e.baseColor));Ee(b,v=>{if(u.value){const c=w.value.$el,k=d.value.$el;requestAnimationFrame(()=>{const V=Ae(c),m=k.getBoundingClientRect(),M=m.x-V.x,U=m.y-V.y-(V.height/2-m.height/2),B=m.width/.75,O=Math.abs(B-V.width)>1?{maxWidth:De(B)}:void 0,X=getComputedStyle(c),oe=getComputedStyle(k),he=parseFloat(X.transitionDuration)*1e3||150,Ce=parseFloat(oe.getPropertyValue("--v-field-label-scale")),be=oe.getPropertyValue("color");c.style.visibility="visible",k.style.visibility="hidden",Ne(c,{transform:`translate(${M}px, ${U}px) scale(${Ce})`,color:be,...O},{duration:he,easing:Ke,direction:v?"normal":"reverse"}).finished.then(()=>{c.style.removeProperty("visibility"),k.style.removeProperty("visibility")})})}},{flush:"post"});const N=y(()=>({isActive:b,isFocused:E,controlRef:z,blur:F,focus:A}));function te(v){v.target!==document.activeElement&&v.preventDefault()}return Z(()=>{var M,U,B;const v=e.variant==="outlined",c=l["prepend-inner"]||e.prependInnerIcon,k=!!(e.clearable||l.clear),V=!!(l["append-inner"]||e.appendInnerIcon||k),m=()=>l.label?l.label({...N.value,label:e.label,props:{for:s.value}}):e.label;return t("div",G({class:["v-field",{"v-field--active":b.value,"v-field--appended":V,"v-field--center-affix":e.centerAffix??!a.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":c,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!m(),[`v-field--variant-${e.variant}`]:!0},g.value,_.value,K.value,P.value,D.value,L.value,e.class],style:[h.value,e.style],onClick:te},i),[t("div",{class:"v-field__overlay"},null),t(Me,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),c&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(C,{key:"prepend-icon",name:"prependInner"},null),(M=l["prepend-inner"])==null?void 0:M.call(l,N.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&u.value&&t(Y,{key:"floating-label",ref:d,class:[x.value],floating:!0,for:s.value,style:ee.value},{default:()=>[m()]}),t(Y,{ref:w,for:s.value},{default:()=>[m()]}),(U=l.default)==null?void 0:U.call(l,{...N.value,props:{id:s.value,class:"v-field__input","aria-describedby":n.value},focus:A,blur:F})]),k&&t(Ue,{key:"clear"},{default:()=>[W(t("div",{class:"v-field__clearable",onMousedown:O=>{O.preventDefault(),O.stopPropagation()}},[l.clear?l.clear():t(C,{name:"clear"},null)]),[[H,e.dirty]])]}),V&&t("div",{key:"append",class:"v-field__append-inner"},[(B=l["append-inner"])==null?void 0:B.call(l,N.value),e.appendInnerIcon&&t(C,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",x.value],style:ee.value},[v&&t(R,null,[t("div",{class:"v-field__outline__start"},null),u.value&&t("div",{class:"v-field__outline__notch"},[t(Y,{ref:d,floating:!0,for:s.value},{default:()=>[m()]})]),t("div",{class:"v-field__outline__end"},null)]),a.value&&u.value&&t(Y,{ref:d,floating:!0,for:s.value},{default:()=>[m()]})])])}),{controlRef:z}}});function dt(e){const f=Object.keys(_e.props).filter(i=>!Oe(i)&&i!=="class"&&i!=="style");return qe(e,f)}const ct=["color","file","time","date","datetime-local","week","month"],ft=J({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ot(),...ge()},"VTextField"),me=Q()({name:"VTextField",directives:{Intersect:je},inheritAttrs:!1,props:ft(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,f){let{attrs:i,emit:I,slots:l}=f;const g=We(e,"modelValue"),{isFocused:P,focus:K,blur:E}=ye(e),A=y(()=>typeof e.counterValue=="function"?e.counterValue(g.value):typeof e.counterValue=="number"?e.counterValue:(g.value??"").toString().length),F=y(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),C=y(()=>["plain","underlined"].includes(e.variant));function D(a,_){var h,x;!e.autofocus||!a||(x=(h=_[0].target)==null?void 0:h.focus)==null||x.call(h)}const L=S(),b=S(),u=S(),r=y(()=>ct.includes(e.type)||e.persistentPlaceholder||P.value||e.active);function s(){var a;u.value!==document.activeElement&&((a=u.value)==null||a.focus()),P.value||K()}function n(a){I("mousedown:control",a),a.target!==u.value&&(s(),a.preventDefault())}function w(a){s(),I("click:control",a)}function d(a){a.stopPropagation(),s(),ie(()=>{g.value=null,He(e["onClick:clear"],a)})}function z(a){var h;const _=a.target;if(g.value=_.value,(h=e.modelModifiers)!=null&&h.trim&&["text","search","password","tel","url"].includes(e.type)){const x=[_.selectionStart,_.selectionEnd];ie(()=>{_.selectionStart=x[0],_.selectionEnd=x[1]})}}return Z(()=>{const a=!!(l.counter||e.counter!==!1&&e.counter!=null),_=!!(a||l.details),[h,x]=ze(i),{modelValue:ee,...N}=fe.filterProps(e),te=dt(e);return t(fe,G({ref:L,modelValue:g.value,"onUpdate:modelValue":v=>g.value=v,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":C.value},e.class],style:e.style},h,N,{centerAffix:!C.value,focused:P.value}),{...l,default:v=>{let{id:c,isDisabled:k,isDirty:V,isReadonly:m,isValid:M}=v;return t(_e,G({ref:b,onMousedown:n,onClick:w,"onClick:clear":d,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},te,{id:c.value,active:r.value||V.value,dirty:V.value||e.dirty,disabled:k.value,focused:P.value,error:M.value===!1}),{...l,default:U=>{let{props:{class:B,...O}}=U;const X=W(t("input",G({ref:u,value:g.value,onInput:z,autofocus:e.autofocus,readonly:m.value,disabled:k.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:s,onBlur:E},O,x),null),[[Xe("intersect"),{handler:D},null,{once:!0}]]);return t(R,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?t("div",{class:B,"data-no-activator":""},[l.default(),X]):Ye(X,{class:B}),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:_?v=>{var c;return t(R,null,[(c=l.details)==null?void 0:c.call(l,v),a&&t(R,null,[t("span",null,null),t(st,{active:e.persistentCounter||P.value,value:A.value,max:F.value},l.counter)])])}:void 0})}),Ge({},L,b,u)}}),vt=o("h1",{class:"text-center"},"事項",-1),mt=o("thead",null,[o("tr",null,[o("th",null,"名稱"),o("th",null,"操作")])],-1),yt={key:0},gt=o("td",{colspan:"2"},"沒有事項",-1),_t=[gt],ht=o("h1",{class:"text-center"},"已完成事項",-1),Ct=o("thead",null,[o("tr",null,[o("th",null,"名稱"),o("th",null,"操作")])],-1),bt={key:0},xt=o("td",{colspan:"2"},"沒有已完成事項",-1),kt=[xt],St={__name:"ListView",setup(e){const f=et(),{items:i,finishedItems:I}=Je(f),{addItem:l,editItem:g,delItem:P,cancelEditItem:K,confirmEditItem:E,delFinishedItem:A}=f,F=S(""),C=S(null),D=S([]),L=async()=>{const r=await C.value.validate();console.log(r),!(r.length>0)&&(l(F.value),C.value.reset())},b=async(r,s)=>{(await D.value[s].validate()).length>0||E(r)},u={required:r=>!!r||"欄位必填",length:r=>r.length>=3||"必須三個字以上"};return(r,s)=>(p(),Qe(Ze,null,{default:q(()=>[t(tt,null,{default:q(()=>[t(ce,{cols:"6"},{default:q(()=>[vt,t(me,{variant:"solo-filled",label:"新增事項",modelValue:F.value,"onUpdate:modelValue":s[0]||(s[0]=n=>F.value=n),rules:[u.required,u.length],"append-icon":"mdi-plus",ref_key:"newItemInput",ref:C,"onClick:append":L,onKeydown:se(L,["enter"])},null,8,["modelValue","rules"]),t(ve,null,{default:q(()=>[mt,o("tbody",null,[(p(!0),$(R,null,ue(T(i),(n,w)=>(p(),$("tr",{key:n.id},[o("td",null,[W(o("span",null,de(n.name),513),[[H,!n.edit]]),W(t(me,{modelValue:n.model,"onUpdate:modelValue":d=>n.model=d,rules:[u.required,u.length],ref_for:!0,ref_key:"editItemInput",ref:D,onKeydown:se(d=>b(n.id,w),["enter"]),autofocus:""},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[H,n.edit]])]),o("td",null,[n.edit?(p(),$(R,{key:1},[t(j,{icon:"mdi-check",variant:"text",color:"green",onClick:d=>b(n.id,w)},null,8,["onClick"]),t(j,{icon:"mdi-undo",variant:"text",color:"red",onClick:d=>T(K)(n.id)},null,8,["onClick"])],64)):(p(),$(R,{key:0},[t(j,{icon:"mdi-pencil",variant:"text",color:"green",onClick:d=>T(g)(n.id)},null,8,["onClick"]),t(j,{icon:"mdi-delete",variant:"text",color:"red",onClick:d=>T(P)(n.id)},null,8,["onClick"])],64))])]))),128)),T(i).length===0?(p(),$("tr",yt,_t)):re("",!0)])]),_:1})]),_:1}),t(ce,{cols:"6"},{default:q(()=>[ht,t(ve,null,{default:q(()=>[Ct,o("tbody",null,[(p(!0),$(R,null,ue(T(I),n=>(p(),$("tr",{key:n.id},[o("td",null,de(n.name),1),o("td",null,[t(j,{icon:"mdi-delete",variant:"text",color:"red",onClick:w=>T(A)(n.id)},null,8,["onClick"])])]))),128)),T(I).length===0?(p(),$("tr",bt,kt)):re("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{St as default};
